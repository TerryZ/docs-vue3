import{d as X,s as w,a9 as M,v as Y,y as j,aa as H,z as P,a4 as U,ab as W,ac as x,T as $,ad as N}from"./framework.DfkYPkeI.js";(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".animate-down-enter-from,.animate-down-leave-to{transform:scale(.95);opacity:0}.animate-down-enter-active{transform-origin:top left;transition-property:opacity,transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-down-leave-active{transform-origin:top left;transition-property:opacity,transform;transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-up-enter-from,.animate-up-leave-to{transform:scale(.95);opacity:0}.animate-up-enter-active{transform-origin:bottom left;transition-property:opacity,transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-up-leave-active{transform-origin:bottom left;transition-property:opacity,transform;transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1)}.v-dropdown-trigger{display:inline-flex}.v-dropdown-trigger.v-dropdown-trigger--full-width{display:flex}.v-dropdown-container{-webkit-font-smoothing:subpixel-antialiased;backface-visibility:hidden;display:inline-flex;margin:0;padding:0;position:absolute;top:0;left:0;border:1px solid #D6D7D7;box-sizing:border-box;background-color:#fff;border-radius:.3rem;overflow:hidden;z-index:3000;will-change:opacity,transform,top,left;box-shadow:0 15px 25px #0003}.v-dropdown-container.v-dropdown-no-border{border:0;border-radius:.5rem;box-shadow:0 10px 30px #0006}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function R(){const t=window.pageXOffset!==void 0,e=(document.compatMode||"")==="CSS1Compat";return{x:t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop}}function V(t){return window.getComputedStyle(t).display==="none"}function D(t){if(V(t)){t.style.visibility="hidden",t.style.display="inline-block";const e=t.getBoundingClientRect();return t.style.visibility="visible",t.style.display="none",e}return t.getBoundingClientRect()}const L="click",q="hover",A="contextmenu",O=150,T=5;function F(t,e){return typeof t.animated=="string"?t.animated:t.animated?e.value?"animate-up":"animate-down":""}function B(t){return{isTriggerByClick:t.trigger===L,isTriggerByHover:t.trigger===q,isTriggerByContextmenu:t.trigger===A}}function G(t,e,c,d){const{isTriggerByContextmenu:n}=B(t),o=window.pageYOffset,u=document.documentElement.clientHeight,p=n?e:c.top+o;let i=n?e:c.top+c.height+T+o,l=!1,r=!1,b=!1;return i+d.height>o+u&&(l=!0),p-T-d.height<o&&(r=!0),!r&&l&&(i=p-T-d.height,b=!0),{dropUp:b,top:i}}function J(t,e,c,d){const{isTriggerByContextmenu:n}=B(t),o=window.pageXOffset,u=document.documentElement.clientWidth,p=n?0:c.width,i=n?e:c.left+o,l=i+p/2-d.width/2,r=i+p-d.width;switch(t.align){case"left":return i+d.width>o+u?r:i;case"center":return l+d.width>o+u?r:r<o?i:l;case"right":return r<o?i:r}}function K(t){const e=R();return{x:t.pageX||t.clientX+e.x,y:t.pageY||t.clientY+e.y}}function Z(t){return["v-dropdown-container",t.border||"v-dropdown-no-border",t.customContainerClass&&t.customContainerClass]}function I(t){return["v-dropdown-trigger",t.fullWidth&&"v-dropdown-trigger--full-width",t.customTriggerClass&&t.customTriggerClass]}const _=X({name:"VDropdown",props:{align:{type:String,default:"left"},border:{type:Boolean,default:!0},toggle:{type:Boolean,default:!0},manual:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},animated:{type:[String,Boolean],default:!0},width:{type:Number,default:void 0},fullWidth:{type:Boolean,default:!1},trigger:{type:String,default:L},customTriggerClass:{type:String,default:""},customContainerClass:{type:String,default:""}},emits:["visible-change"],setup(t,{slots:e,emit:c,expose:d}){const n=w(!1),o=M({top:"",left:"",width:""}),u=M({x:null,y:null}),p=w(!1),i=w(null),l=w(null),r=w(null),{isTriggerByClick:b,isTriggerByHover:h,isTriggerByContextmenu:C}=B(t);Y(n,a=>c("visible-change",a));function v(){t.disabled||("trigger"in e&&k(),h?(window.clearTimeout(i.value),i.value=window.setTimeout(()=>{n.value=!0},O)):n.value=!0)}function y(a=!1){t.disabled||!t.toggle&&!a||(h?(window.clearTimeout(i.value),i.value=window.setTimeout(()=>{n.value=!1},O)):n.value=!1)}function S(){n.value?y():v()}function k(){const a=D(l.value),s=D(r.value),m=G(t,u.y,a,s),g=J(t,u.x,a,s);p.value=m.dropUp,o.top=`${m.top}px`,o.left=`${g}px`}function z(a){if(!n.value)return;const s=a.composedPath().some(m=>m===l.value);s&&!t.toggle&&!C||(!s||s&&C)&&y(!0)}return j(()=>{typeof t.width<"u"&&(o.width=t.width+"px"),document.body.addEventListener("mousedown",z)}),H(()=>{document.body.removeEventListener("mousedown",z),r.value&&r.value.remove()}),P(()=>{l.value&&l.value.remove()}),d({display:v,close:y,toggleVisible:S,adjust:k,container:r,visible:n}),()=>{const a=[];"trigger"in e&&a.push(e.trigger({visible:n,disabled:t.disabled}));const s={class:Z(t),style:o,ref:r,onMousedown:f=>f.stopPropagation()};h&&(s.onMouseenter=v,s.onMouseleave=y);const m=U(x("div",s,e.default&&e.default()),[[W,n.value]]);a.push(x(N,{to:"body"},[x($,{name:F(t,p)},()=>[m])]));const g={class:I(t),ref:l};return h?(g.onMouseenter=v,g.onMouseleave=y):b?g.onClick=f=>{t.manual||(f.stopPropagation(),S())}:C&&(g.onContextmenu=f=>{if(t.manual)return;f.stopPropagation(),f.preventDefault();const E=K(f);u.x=E.x,u.y=E.y,v()}),x("div",g,a)}}});export{_ as Z};
